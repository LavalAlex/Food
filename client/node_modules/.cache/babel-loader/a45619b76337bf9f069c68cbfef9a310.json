{"ast":null,"code":"const initialState = {\n  recipes: [],\n  allRecipes: [],\n  //Aca me hago un backup del historial/state\n  diets: [],\n  details: []\n};\n\nfunction rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'GET_RECIPE':\n      return { ...state,\n        recipes: action.payload,\n        allRecipes: action.payload\n      };\n\n    case 'FILTER_RECIPE_DIET':\n      const allRecipies = state.allRecipes;\n      console.log('filter', allRecipies);\n      var statusFiltered = allRecipies.filter(e => {\n        if (e.createInDB) {\n          for (var i = 0; i < e.diets.length; i++) {\n            if (e.diets[i].name === action.payload) return e;\n          }\n        } else if (e.diets.includes(action.payload)) return e;\n      });\n      console.log(statusFiltered);\n      return { ...state,\n        recipes: statusFiltered\n      };\n\n    case 'GET_RECIPE_NAME':\n      return { ...state,\n        recipes: action.payload\n      };\n\n    case 'FILTER_RECIPE_ADS':\n      const allRecipes = state.allRecipes;\n\n      if (action.payload === \"asc\") {\n        allRecipes.sort((a, b) => {\n          if (a.name > b.name) return 1;\n          if (a.name < b.name) return -1;\n          return 0;\n        });\n      } else if (action.payload === \"desc\") {\n        allRecipes.sort((a, b) => {\n          if (a.name < b.name) return 1;\n          if (a.name > b.name) return -1;\n          return 0;\n        });\n      } else {\n        allRecipes.sort((a, b) => {\n          if (a.score < b.score) return 1;\n          if (a.score > b.score) return -1;\n          return 0;\n        });\n      }\n\n      return { ...state,\n        recipes: allRecipes\n      };\n\n    case 'GET_RECIPE_ID':\n      return { ...state,\n        details: action.payload\n      };\n\n    case 'GET_DIET_TYPE':\n      return { ...state,\n        diets: action.payload\n      };\n\n    case 'POST_RECIPE':\n      return { ...state\n      };\n\n    case 'GET_RECIPE_ID_ALL':\n      const recipeAll = state.recipes;\n      const recipeAllID = recipeAll.filter(e => e.id === parseInt(action.payload));\n      return { ...state,\n        details: recipeAllID\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default rootReducer;","map":{"version":3,"sources":["/media/Alex/Proyectos/JUNGLE-OF-RECIPES/client/src/reducer/index.js"],"names":["initialState","recipes","allRecipes","diets","details","rootReducer","state","action","type","payload","allRecipies","console","log","statusFiltered","filter","e","createInDB","i","length","name","includes","sort","a","b","score","recipeAll","recipeAllID","id","parseInt"],"mappings":"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","sourcesContent":["const initialState = {\n    recipes : [],\n    allRecipes: [],//Aca me hago un backup del historial/state\n    diets:[],\n    details:[]\n}\n\nfunction rootReducer (state = initialState, action){\n    switch(action.type){\n        case 'GET_RECIPE':\n            return{\n                ...state,\n                recipes: action.payload,\n                allRecipes: action.payload\n            };\n        \n        case 'FILTER_RECIPE_DIET':\n            const allRecipies = state.allRecipes;\n            console.log('filter',allRecipies)\n            var statusFiltered = allRecipies.filter(e =>{\n                    if(e.createInDB){\n                        for(var i = 0; i < e.diets.length;i++){\n                            if(e.diets[i].name === action.payload) return e\n                        }\n                }else if(e.diets.includes(action.payload)) return e})\n            console.log(statusFiltered)\n            return {\n                ...state,\n                recipes: statusFiltered\n            };  \n        \n        case 'GET_RECIPE_NAME':\n            return{\n                ...state,\n                recipes: action.payload\n            };\n\n        case 'FILTER_RECIPE_ADS':\n            const allRecipes = state.allRecipes;\n            if(action.payload === \"asc\"){\n                allRecipes.sort((a,b) => {\n                    if(a.name > b.name) return 1;\n                    if(a.name < b.name) return -1;\n                    return 0;\n                })\n            }else if(action.payload === \"desc\"){\n                allRecipes.sort((a,b) => {\n                    if(a.name < b.name) return 1;\n                    if(a.name > b.name) return -1;\n                    return 0;\n                })\n\n            }else {\n                allRecipes.sort((a,b) => {\n                    if(a.score < b.score) return 1;\n                    if(a.score > b.score) return -1;\n                    return 0;\n                })\n            }\n\n            return{\n                ...state,\n                recipes: allRecipes\n            }\n\n        case 'GET_RECIPE_ID':\n            return{\n                ...state,\n                details: action.payload\n            };\n\n        case 'GET_DIET_TYPE':\n            return{\n                ...state,\n                diets: action.payload\n            }\n            \n        case 'POST_RECIPE':\n            return {\n                ...state\n            }\n\n        case 'GET_RECIPE_ID_ALL':\n            const recipeAll = state.recipes\n            const recipeAllID = recipeAll.filter( e => e.id === parseInt(action.payload))\n            return{ \n                ...state,\n                details: recipeAllID\n            }\n            \n        default: return state;\n    }\n}\nexport default rootReducer;"]},"metadata":{},"sourceType":"module"}